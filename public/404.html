<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Fando-Expert</title>
    <script type="text/javascript">
      // Only handle the URL transformation once.
      var l = window.location;

      // Check if we are on a single page app, and avoid infinite redirects
      if (!l.search.includes('~and~')) {
        var pathSegmentsToKeep = 1;

        // Build the base URL (without query and hash)
        var baseUrl = l.protocol + '//' + l.hostname + (l.port ? ':' + l.port : '') +
          l.pathname.split('/').slice(0, 1 + pathSegmentsToKeep).join('/');

        // Ensure we remove unnecessary query strings or hash.
        var finalUrl = baseUrl + l.pathname.slice(1).split('/').slice(pathSegmentsToKeep).join('/') + l.search.replace(/&/g, '~and~') + l.hash;

        // Redirect to the clean final URL without unnecessary parts
        // Ensuring only the valid path remains
        if (finalUrl !== l.href) {
          window.location.replace(finalUrl);  // Use replace to avoid adding history
        }
      }
    </script>
  </head>
  <body>
  </body>
</html>
