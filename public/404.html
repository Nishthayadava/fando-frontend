<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Fando-Expert</title>
  </head>
  <body>
    <script>
      // Retrieve the role from localStorage and sanitize it
      let userRole = localStorage.getItem('role');

      // Ensure the role is trimmed of spaces and converted to lowercase
      if (userRole) {
        userRole = userRole.trim().toLowerCase();
      }

      // Check the current page and redirect only if necessary
      const currentPath = window.location.pathname;

      if (userRole === 'admin' && currentPath !== '/admindashboard') {
        // If role is Admin and we are not already on the admin dashboard, redirect to it
        window.location.replace('/admindashboard');
      } else if (userRole === 'agent' && currentPath !== '/dashboard') {
        // If role is Agent and we are not already on the agent dashboard, redirect to it
        window.location.replace('/dashboard');
      } else if (currentPath !== '/') {
        // If the role is not found or it's an unknown role, and we're not on the home page, go to the home page
        window.location.replace('/');
      }
    </script>
  </body>
</html>
